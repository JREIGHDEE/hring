<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functional HR System with Redesigned Employee View</title>
    <style>
        :root {
            --primary-bg: #3e4a3e;
            --secondary-bg: #677967;
            --content-bg: #EAE5D9;
            --card-bg: #FFFFFF;
            --text-dark: #333;
            --text-light: #fff;
            --text-muted: #6c757d;
            --accent-green: #679469;
            --accent-yellow: #E4C147;
            --accent-red: #D96C6C;
            --border-color: #dee2e6;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        
        body { margin: 0; font-family: 'Inter', sans-serif; background-color: var(--primary-bg); color: var(--text-dark); height: 100vh; overflow: hidden; }
        .hidden { display: none !important; }

        /* --- LOGIN PAGE STYLES (Unchanged) --- */
        #loginPage { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; background-color: var(--content-bg); }
        .login-container { background: white; padding: 40px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); text-align: center; width: 100%; max-width: 400px; }
        .login-container h1 { color: var(--primary-bg); margin-bottom: 30px; }
        .login-container .form-group { text-align: left; margin-bottom: 20px; }
        .login-container label { font-weight: 500; margin-bottom: 5px; display: block; }
        .login-container input { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; box-sizing: border-box; }
        .login-container .login-btn { width: 100%; padding: 15px; border-radius: 8px; border: none; font-size: 1em; font-weight: bold; cursor: pointer; transition: background-color 0.2s; }
        .login-btn.primary { background-color: var(--secondary-bg); color: white; margin-bottom: 15px; }
        .login-btn.secondary { background-color: transparent; color: var(--secondary-bg); border: 1px solid var(--secondary-bg); }
        #login-error { color: var(--accent-red); margin-top: 15px; min-height: 20px; }

        /* --- SHARED APP STYLES (Unchanged) --- */
        .app-shell { display: flex; width: 100%; height: 100%; padding: 20px; box-sizing: border-box; }
        .sidebar { width: 250px; background-color: var(--secondary-bg); border-radius: 12px; padding: 20px; display: flex; flex-direction: column; color: var(--text-light); flex-shrink: 0; }
        .main-content { flex-grow: 1; background-color: var(--content-bg); margin-left: 20px; border-radius: 12px; padding: 30px; overflow-y: auto; }
        .sidebar-header { font-size: 1.5em; font-weight: bold; margin-bottom: 40px; }
        .sidebar-nav ul { list-style: none; padding: 0; margin: 0; }
        .sidebar-nav li { padding: 15px 10px; border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: background-color 0.2s; }
        .sidebar-nav li:hover { background-color: rgba(255, 255, 255, 0.1); }
        .sidebar-nav .active { background-color: var(--primary-bg); font-weight: bold; }
        .sidebar-footer { margin-top: auto; padding: 15px 10px; cursor: pointer; border-radius: 8px; }
        .main-content h1, .main-content h2 { margin-top: 0; color: var(--primary-bg); border-bottom: 2px solid var(--border-color); padding-bottom: 10px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
        .actions { display: flex; gap: 10px; flex-wrap: wrap; }
        .search-bar { padding: 10px 15px; border-radius: 20px; border: 1px solid var(--border-color); width: 250px; }

        /* --- STYLES FOR REDESIGNED EMPLOYEE VIEW --- */
        .employee-profile-header {
            display: flex;
            align-items: center;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .employee-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--primary-bg);
            color: var(--text-light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            font-weight: bold;
            margin-right: 25px;
        }
        .employee-header-info h2 {
            margin: 0 0 5px 0;
            font-size: 1.8em;
            color: var(--text-dark);
            border: none;
        }
        .employee-header-info p {
            margin: 0;
            color: var(--text-muted);
            font-size: 1.1em;
        }
        
        .employee-details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .info-card {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .info-card h3 {
            margin-top: 0;
            margin-bottom: 20px;
            color: var(--primary-bg);
            font-size: 1.2em;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        .info-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 1em;
        }
        .info-item svg {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            fill: var(--secondary-bg);
        }
        .info-item-text strong {
            display: block;
            color: var(--text-muted);
            font-size: 0.9em;
            font-weight: 500;
            margin-bottom: 2px;
        }
        
        .data-table { width: 100%; border-collapse: collapse; margin-top: 10px; background: var(--card-bg); border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .data-table th, .data-table td { padding: 15px; text-align: left; border-bottom: 1px solid var(--border-color); }
        .data-table th { background-color: var(--primary-bg); color: var(--text-light); font-weight: 500;}
        .data-table tr:last-child td { border-bottom: none; }
        .data-table tr:nth-child(even) { background-color: #f8f9fa; }

    </style>
</head>
<body>

    <!-- =========== LOGIN PAGE (STARTS HERE) =========== -->
    <div id="loginPage">
        <div class="login-container">
            <h1>HR System Login</h1>
            <form id="loginForm">
                <div class="form-group"><label for="username">Username</label><input type="text" id="username" value="janesmith"></div>
                <div class="form-group"><label for="password">Password</label><input type="password" id="password" value="password123"></div>
                 <p id="login-error">&nbsp;</p>
                <button type="submit" class="login-btn primary">Login as Employee</button>
                <button type="button" id="adminLoginBtn" class="login-btn secondary">Login as HR Admin</button>
            </form>
        </div>
    </div>

    <!-- =========== HR ADMIN PAGE (Initially Hidden) =========== -->
    <div id="hrAdminPage" class="app-shell hidden">
        <!-- (Unchanged) -->
    </div>
    
    <!-- =========== EMPLOYEE DASHBOARD PAGE (REDESIGNED & Initially Hidden) =========== -->
    <div id="employeePage" class="app-shell hidden">
        <aside class="sidebar">
            <div class="sidebar-header">WeekendMatcha</div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="tab-link active" data-tab="profile">My Profile</li>
                    <li class="tab-link" data-tab="attendance">Attendance Log</li>
                </ul>
            </nav>
            <div class="sidebar-footer logout-btn">&#8592; Log Out</div>
        </aside>
        <main class="main-content">
            <!-- Profile Tab Content -->
            <div id="profile-tab" class="tab-content">
                <div id="employee-profile-header" class="employee-profile-header">
                    <!-- Dynamic Header Content -->
                </div>

                <div class="employee-details-grid">
                    <div class="info-card" id="employee-job-details">
                        <!-- Dynamic Job Details -->
                    </div>
                    <div class="info-card" id="employee-contact-details">
                        <!-- Dynamic Contact Details -->
                    </div>
                </div>
            </div>
            <!-- Attendance Tab Content -->
            <div id="attendance-tab" class="tab-content hidden">
                <h2>My Attendance Log</h2>
                <table class="data-table">
                    <thead><tr><th>Date</th><th>Time In</th><th>Time Out</th><th>Hours Worked</th></tr></thead>
                    <tbody id="employee-attendance-log"></tbody>
                </table>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- MOCK DATABASE AND LOGIN LOGIC (Unchanged) ---
        let employees = [
            { id: 'EMP1001', fname: 'John', lname: 'Doe', address: '123 Main St, Anytown', contact: '555-0101', username: 'johndoe', password: 'password123', role: 'HR Admin', status: 'Active', dateHired: '2025-10-10', shift: '9:00 AM - 5:00 PM' },
            { id: 'EMP1002', fname: 'Jane', lname: 'Smith', address: '456 Oak Ave, Sometown', contact: '555-0102', username: 'janesmith', password: 'password123', role: 'Sales Associate', status: 'Active', dateHired: '2025-10-15', shift: '10:00 AM - 6:00 PM' },
            { id: 'EMP1003', fname: 'Peter', lname: 'Jones', address: '789 Pine Ln, Otherville', contact: '555-0103', username: 'peterjones', password: 'password123', role: 'Inventory Manager', status: 'On Leave', dateHired: '2025-09-01', shift: '8:00 AM - 4:00 PM' },
        ];
        const attendanceData = { 'EMP1002': [ { date: '2025-10-27', timeIn: '10:05 AM', timeOut: '6:02 PM', hours: '7.95' }, { date: '2025-10-28', timeIn: '09:58 AM', timeOut: '6:05 PM', hours: '8.07' }, { date: '2025-10-29', timeIn: '10:01 AM', timeOut: '5:55 PM', hours: '7.90' }]};
        
        const loginPage = document.getElementById('loginPage');
        const hrAdminPage = document.getElementById('hrAdminPage');
        const employeePage = document.getElementById('employeePage');
        const loginForm = document.getElementById('loginForm');
        const adminLoginBtn = document.getElementById('adminLoginBtn');

        loginForm.addEventListener('submit', e => { e.preventDefault(); const user = employees.find(emp => emp.username === 'janesmith'); if (user) showEmployeeDashboard(user); });
        adminLoginBtn.addEventListener('click', () => showHrAdminDashboard());
        document.querySelectorAll('.logout-btn').forEach(btn => btn.addEventListener('click', () => { loginPage.classList.remove('hidden'); hrAdminPage.classList.add('hidden'); employeePage.classList.add('hidden'); }));

        const showHrAdminDashboard = () => { loginPage.classList.add('hidden'); employeePage.classList.add('hidden'); hrAdminPage.classList.remove('hidden'); };
        const showEmployeeDashboard = (user) => { loginPage.classList.add('hidden'); hrAdminPage.classList.add('hidden'); employeePage.classList.remove('hidden'); renderEmployeeDashboard(user); };
        
        // --- EMPLOYEE DASHBOARD RENDERING LOGIC (UPDATED) ---
        const renderEmployeeDashboard = (user) => {
            const initials = `${user.fname[0]}${user.lname[0]}`;
            
            // Render the main header
            document.getElementById('employee-profile-header').innerHTML = `
                <div class="employee-avatar">${initials}</div>
                <div class="employee-header-info">
                    <h2>${user.fname} ${user.lname}</h2>
                    <p>${user.role}</p>
                </div>
            `;
            
            // Render the Job Details Card
            document.getElementById('employee-job-details').innerHTML = `
                <h3>Job Details</h3>
                <div class="info-item">
                    <svg viewBox="0 0 24 24"><path d="M19,4H18V2H16V4H8V2H6V4H5A2,2 0 0,0 3,6V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V6A2,2 0 0,0 19,4M19,20H5V10H19V20M19,8H5V6H19V8M12,13H17V18H12V13Z" /></svg>
                    <div class="info-item-text"><strong>Date Hired</strong>${user.dateHired}</div>
                </div>
                <div class="info-item">
                     <svg viewBox="0 0 24 24"><path d="M10,2H14A2,2 0 0,1 16,4V6H20A2,2 0 0,1 22,8V19A2,2 0 0,1 20,21H4A2,2 0 0,1 2,19V8A2,2 0 0,1 4,6H8V4A2,2 0 0,1 10,2M14,6V4H10V6H14M4,8V19H20V8H4Z" /></svg>
                    <div class="info-item-text"><strong>Employee ID</strong>${user.id}</div>
                </div>
                <div class="info-item">
                    <svg viewBox="0 0 24 24"><path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z" /></svg>
                    <div class="info-item-text"><strong>Shift Schedule</strong>${user.shift}</div>
                </div>
            `;

            // Render the Contact Information Card
            document.getElementById('employee-contact-details').innerHTML = `
                <h3>Contact Information</h3>
                <div class="info-item">
                    <svg viewBox="0 0 24 24"><path d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z" /></svg>
                    <div class="info-item-text"><strong>Contact Number</strong>${user.contact}</div>
                </div>
                 <div class="info-item">
                    <svg viewBox="0 0 24 24"><path d="M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,11L20,6H4L12,11M4,18H20V8L12,13L4,8V18Z" /></svg>
                    <div class="info-item-text"><strong>Username / Email</strong>${user.username}</div>
                </div>
                <div class="info-item">
                    <svg viewBox="0 0 24 24"><path d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z" /></svg>
                    <div class="info-item-text"><strong>Address</strong>${user.address}</div>
                </div>
            `;

            // Render attendance log (unchanged)
            const attendanceLog = document.getElementById('employee-attendance-log');
            attendanceLog.innerHTML = '';
            const userAttendance = attendanceData[user.id] || [];
            if (userAttendance.length > 0) userAttendance.forEach(log => { attendanceLog.innerHTML += `<tr><td>${log.date}</td><td>${log.timeIn}</td><td>${log.timeOut}</td><td>${log.hours}</td></tr>`; });
            else attendanceLog.innerHTML = `<tr><td colspan="4" style="text-align:center;">No attendance records found.</td></tr>`;
        };
        
        // Tab switching logic (unchanged)
        document.querySelectorAll('.tab-link').forEach(tabLink => {
            tabLink.addEventListener('click', () => {
                document.querySelectorAll('.tab-link').forEach(tl => tl.classList.remove('active'));
                tabLink.classList.add('active');
                const tabToShow = tabLink.dataset.tab;
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.id === `${tabToShow}-tab` ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });
    });
    </script>
</body>
</html>
